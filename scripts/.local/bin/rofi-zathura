#!/bin/env bash

set -e
set -o pipefail

directories=(
    ~/Projects
    ~/projects
    ~/gitfiles
    ~/Documents
    ~/Studyfiles
)

if echo "$XDG_SESSION_TYPE" | grep wayland -q; then
    rofi_cmd="wofi --dmenu --insensitive --no-show-icons"
else
    rofi_cmd="rofi -no-show-icons -dmenu -i -config ~/.config/rofi/config-select.rasi"
fi

files=$(
    fd "\.pdf" "${directories[@]}" | $rofi_cmd -p "Document:"
)

if [[ -n $files ]]; then
    zathura "$files"
fi
